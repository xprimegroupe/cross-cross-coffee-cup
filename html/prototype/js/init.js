//DOM READY
$(document).ready(function() {

  /* PAPER */
  var paper = new Raphael(document.getElementById('draw_here_raphael'), 700, 650);

  var main_color ='255,0,100'

  /*BASICS*/
  var tete = paper.path('M78.704,61.247c-15.257,15.439-32,43.5-37.5,65.5s-6,61,10.5,91s62,54,95,53.5s66.5-15.5,82-33s34.5-46.001,33.5-75.001s-18.188-66.837-47.5-98C167.204,14.747,119.704,19.747,78.704,61.247z').attr({fill:"rgb("+main_color+")", stroke:"none"});
    var tete1 = "M78.704,61.247c-15.257,15.439-32,43.5-37.5,65.5s-6,61,10.5,91s62,54,95,53.5s66.5-15.5,82-33s34.5-46.001,33.5-75.001s-18.188-66.837-47.5-98C167.204,14.747,119.704,19.747,78.704,61.247z"
    var tete2 = "M155.843,21.167C131.906,19.432,96.51,34.5,86.51,55.833s-37.333,80.667-14.667,116s52.667,35.334,54,46.667s15.333,43.999,23.333,48.666s32-14.667,34.667-46s59.252-29.637,49.334-94.666C222.501,56.5,201.842,24.5,155.843,21.167z"
    var tete3 = "M97.528,29.796c-34.409,10.166-48.485,60.215-46.139,95.406c2.346,35.19-4.943,121.213,22.944,134.508c27.887,13.293,91.231,23.459,132.678,17.203c41.447-6.256,39.884-106.355,39.884-131.379c0-25.024,8.602-68.035-10.167-87.585C217.959,38.398,180.575,21.194,150,21.194C119.424,21.194,97.528,29.796,97.528,29.796z"
    var tete4 = "M71.834,63.167c-8.055,17.689-26.667,102.666-18,124s44.667,68,46.667,68.667s42,6,56,0s64.667-16.667,74-24.667s21.999-110,10.666-130S203.834,38.5,157.834,39.833S75.01,56.191,71.834,63.167z"
    var tete5 = "M89.756,52.593C107.09,45.26,125.5,69.833,150,69.833s38.501-17.932,59.834-17.633s30,41.632,22,85.633s-30,122.205-81.834,122.203c-23.017-0.001-47.934-30.95-58.601-62.284S71.59,128.417,69.167,106.5C67.045,87.313,64.441,63.304,89.756,52.593z"
    var tete6 = "M150,34.5c-20.596,3.132-124.833,19.333-107.5,97.333s64.667,76,64,94.667s20,40.001,30,47.334s27.333,6,36.667-0.667s21.334-34.667,22.667-52s75.999-54,62.666-107.333S193.834,27.833,150,34.5z"
    var tete7 = "M147.401,79.726c-23.47,0-28.699-20.27-63.904-20.27S-21.05,127.733,51.493,194.942c53.907,49.943,75.685,33.336,99.747,62.943c11.635-24.859,69.729-24.932,92.28-53.342c67.742-85.345,12.813-139.752-36.272-139.752c-24.795,0-17.256,11.068-43.941,14.148C158.992,79.437,153.784,79.726,147.401,79.726z"
    var tete8 = "M159.901,52.467c-10.032-14.785-22.956-28.426-38.877,6.171c-9.753,21.191-66.461,155.152-75.765,173.611c-9.303,18.458-5.745,31.784,25.77,30.766c15.547-0.502,55.939-3.423,95.258-6.54c40.378-3.199,79.624-6.606,89.668-7.813c19.826-2.385,24.866-9.543,10.918-31.564C252.389,194.227,172.689,71.314,159.901,52.467z"
    var tete9 = "M111.5,29.15c-11.022,5.958-17,22,0,18s28-8.732,33,0.634s10,19.366-8.5,20.366s-29.5,0-41.5,6s-60,41-55,106s50,92,96.5,96s127.5-27,112.5-131S148.5,9.15,111.5,29.15z"
    var tete10 = "M136.5,21.5c-38.918,2.717-76,18-91,56s-23,111-6,157s122,63,170,50s80-102,76-142s-26-85-61-102S157.748,20.017,136.5,21.5z"
    var tete11 = "M208.42,268.289C262.5,217.5,271.5,193.5,243.914,141.288c-17.562-33.238-50.067-84.888-68.454-111.72c-19.722-28.78-44-15-56,0S61.641,124.358,50.5,145.5c-31.021,58.866-1,92,41.239,122.068C126.218,292.114,179.009,295.91,208.42,268.289z"
    var tete12 = "M146.445,24.476c-7.252,0-18.389,6.215-30.993,16.677c-16.043,13.318-34.464,33.52-50.277,56.545c-27.149,39.533-46.609,87.39-33.142,123.033c11.454,30.316,46.729,51.794,121.353,51.794c95.901,0,125.624-35.472,122.729-79.587c-2.176-33.151-22.771-71.183-47.545-102.712C199.131,52.76,163.791,24.476,146.445,24.476z"
    var tete13 = "M200.666,69.698h-10.415v-5.328c0-7.31-5.925-13.235-13.234-13.235h-54.032c-7.31,0-13.235,5.925-13.235,13.235v5.328H99.334c-22.091,0-40,17.909-40,40v85.699c0,22.092,17.909,40,40,40h0.164v13.469h101.004v-13.469h0.164c22.092,0,40-17.908,40-40v-85.699C240.666,87.606,222.758,69.698,200.666,69.698z"

  var yeux_vaudou_l = paper.path('M126.195,105.172c-0.011-0.555-0.081-1.146-0.209-1.767c-0.152-1.005-0.357-2.038-0.636-3.105c-0.042,0.205-0.083,0.418-0.125,0.631c-2.522-6.293-9.723-13.692-19.099-12.65c-7.715,0.857-16.5,13-6,25.5c8.305,9.887,17.544,3.509,22.531-2.064c-2.784,7.074-8.977,12.473-25.917,6.315C113.288,127.579,127.449,120.62,126.195,105.172z').attr({fill:"#333333", stroke:"none"});
  var yeux_vaudou_r = paper.path('M187.201,89.437c-4.475,3.254-9.527,8.672-8.762,15.716c-1.268,15.462,12.899,22.43,29.453,12.879c-14.449,5.253-21.076,2.093-24.441-3.337c7.678,6.429,23.158,6.577,28.339-6.744C217.865,92.329,199.93,80.18,187.201,89.437z').attr({fill:"#333333", stroke:"none"});

  var yeux_1_cerne_l = paper.path('M112.604,151.556c-0.805-6.747-14.328-17.898-27.223-15.543c-12.895,2.355-21.014,12.718-19.582,22.609c1.433,9.891,18.626,12.717,30.088,8.479C107.351,162.86,113.56,159.563,112.604,151.556z').attr({fill:"#333333", stroke:"none"});
  var yeux_1_blanc_l = paper.path('M72.204,153.246c6-12,23.5-21,34-1C100.704,155.246,82.204,158.246,72.204,153.246z').attr({fill:"#ffffff", stroke:"none"});
  var yeux_1_pupille_l = paper.circle(90, 145, 3.5).attr({fill:"#333333", stroke:"none"});
  var yeux_1_sourcil_l = paper.path('M70.204,111.747c5.5-10,29.5-24.5,40,7.5').attr({"stroke-width":"7", "stroke-miterlimit":"10", "stroke-linecap":"round", stroke:"#333333", miterlimit:"10"})

  var yeux_1_cerne_r = paper.path('M181.634,146.747c0.843-7.162,15-19,28.5-16.5s22,13.5,20.5,24s-19.5,13.5-31.5,9S180.634,155.246,181.634,146.747z').attr({fill:"#333333", stroke:"none"});
  var yeux_1_blanc_r = paper.path('M221.204,153.246c-6-12-23.5-21-34-1C192.704,155.246,211.204,158.246,221.204,153.246z').attr({fill:"#ffffff", stroke:"none"});
  var yeux_1_pupille_r = paper.circle(205, 145, 3.5).attr({fill:"#333333", stroke:"none"});
  var yeux_1_sourcil_r = paper.path('M221.204,112.747c-5.5-10-29.5-24.5-40,7.5').attr({"stroke-width":"7", "stroke-miterlimit":"10", "stroke-linecap":"round", stroke:"#333333", miterlimit:"10"})

  var yeux_2_cerne_r = paper.path('M201.014,144.227c13.418,2.236,16.121,23.216,6.448,32.244c-9.674,9.029-30.955,14.188-37.403-2.578C163.609,157.124,181.666,141.002,201.014,144.227z').attr({fill:"#333333", stroke:"none"});
  var yeux_2_cerne_l = paper.path('M85.95,144.227c-13.419,2.236-16.122,23.216-6.449,32.244c9.674,9.029,30.955,14.188,37.404-2.578C123.354,157.124,105.297,141.002,85.95,144.227z').attr({fill:"#333333", stroke:"none"});
  var yeux_2_blanc_r = paper.path('M173.704,172.746c-4.478-8.063,9.5-18,18.5-19s18,6,20,16S183.704,190.746,173.704,172.746').attr({fill:"#ffffff", stroke:"none"});
  var yeux_2_blanc_l = paper.path('M88.204,148.747c-10.404,1.73-12.5,18-5,25s24,11,29-2S103.204,146.247,88.204,148.747z').attr({fill:"#ffffff", stroke:"none"});
  var yeux_2_pupille_r = paper.circle(185, 165, 3.5).attr({fill:"#333333", stroke:"none"});
  var yeux_2_pupille_l = paper.circle(110, 165, 3.5).attr({fill:"#333333", stroke:"none"});

  var bouche_1_shade = paper.path('M132.501,205.363c-1.382,1.313,3.43,37.723,13.717,51.438c10.287,13.716,9.524-2.479,11.05-6.668c1.522-4.19,8-31.052,8.381-39.624C166.029,201.934,143.741,194.695,132.501,205.363z').attr({fill:"#333333", stroke:"none"});
  var bouche_1_inner = paper.path('M133.704,208.247c-0.207-5.587,21-8.001,30.5,2.5c-8,41-10,46-15,46S134.204,221.747,133.704,208.247z').attr({fill:"#000", stroke:"none"});
  var bouche_1_t1 = paper.path('M149.843,249.796l4.031-0.033C153.208,255.474,149.852,258.354,149.843,249.796z').attr({fill:"#fff", stroke:"none"});
  var bouche_1_t2 = paper.path('M149.502,249.582l-3.997,0.524C146.958,255.673,150.682,258.06,149.502,249.582z').attr({fill:"#fff", stroke:"none"});
  var bouche_1_t3 = paper.path('M137.133,211.103l2.985-0.415C139.002,206.535,136.204,204.77,137.133,211.103z').attr({fill:"#fff", stroke:"none"});
  var bouche_1_t4 = paper.path('M158.934,211.103l-2.983-0.415C157.063,206.535,159.859,204.77,158.934,211.103z').attr({fill:"#fff", stroke:"none"});
  var bouche_1_t5 = paper.path('M157.52,210.963l-4.031,0.033C154.154,205.285,157.512,202.404,157.52,210.963z').attr({fill:"#fff", stroke:"none"});
  var bouche_1_t6 = paper.path('M139.489,210.963l4.03,0.033C142.854,205.285,139.498,202.404,139.489,210.963z').attr({fill:"#fff", stroke:"none"});

  var bouche_vaudoo_shape = paper.path('M198.5,191.167c-12-14.666-79.849-7.4-84,0c-15.333,27.334,32.667,24,44.667,23.333C171.168,213.833,210.5,205.833,198.5,191.167z M190.167,196.897c-6.667,3.333-75.148,5.867-68,4.329C126.835,200.223,196.834,193.564,190.167,196.897z').attr({fill:"#333333", stroke:"none"});
  var bouche_de_fille_shape = paper.path('M148.834,172.19c4-1.767,6.667-3.028,13.333-1.515c-5.667-6.56-9-9.083-12-5.802c-3,3.28-3.667,3.531-9-0.253c-5.333-3.785-7.333,4.037-13,7.317c0,0,2.921-1.045,6.36-1.243c5.97,4.03,5.647,8.056,10.64,8.307c5,0.253,5.333-6.055,11.667-8.073c-6,0-8,2.775-11,2.775c-2.371,0-5.574-2.356-8.787-2.974c0.831,0.073,1.659,0.21,2.453,0.45C144.5,172.695,144.834,173.957,148.834,172.19z').attr({fill:"#333333", stroke:"none"});
  var coeur_shape = paper.path('M186.156,126.399c-7.079-17.109-23.6-9.44-15.34,2.36c8.261,11.8,14.751,7.08,17.109,19.469c2.359-11.209,12.151-13.996,14.749-20.059C207.985,115.779,193.237,108.7,186.156,126.399z').attr({fill:"#333333", stroke:"none"});
  var long_nez_shape = paper.path('M142.167,116.833c2.333,11,1.667,18.667-5,24s-15.667,5-7,12.333s2-4,4-2.667s1,8.333,4.333,5.333s5.667-3.999,4.333,0.334s4.667,5.667,6.333-0.667c1.667-6.333,4-30.667-1-38.667C143.167,108.833,141.833,110.167,142.167,116.833z').attr({fill:"#333333", stroke:"none"});

  var snot = paper.path("M156.508,179.376c0.863,4.106-0.652,23.259,0.997,27.693c1.649,4.436-6.892,5.984-5.453,0.111c1.44-5.872,3.754-24.01-0.246-29.084C154.116,176.675,156.508,179.376,156.508,179.376z").attr({fill:'#9CFF00', stroke:"none"})
  var nez_1_forme = paper.path('M151.798,170.331c-8.701,0.934-10.107-7.24-12.142,5.695c-2.034,12.933,6.265,7.313,7.179,5.296c0.915-2.021,0.37,1.712,2.027,3.12c1.658,1.407,4.896,0.698,5.223-1.791c0.329-2.488,1.691-2.823,2.841,0.739c1.148,3.566,7.498,1.573,5.806-5.294C161.04,171.229,161.225,169.321,151.798,170.331z').attr({fill:"#333333", stroke:"none"});
  var nez_2_forme = paper.path('M147.025,139.287c-8.583,1.707-7.837,29.604-8.708,42.67 c-0.87,13.063,5.472,3.172,6.203,1.082c0.73-2.095,0.521,1.672,2.298,2.926c1.777,1.254,2.717-0.104,2.821-2.613 c0.105-2.508,2.509-0.729,3.972,2.717c1.463,3.449,6.479,0.419,4.18-6.27C155.492,173.11,156.323,137.438,147.025,139.287z').attr({fill:"#333333", stroke:"none"});

  var nez_vaudoo_left = paper.path("M142.5,122.392c-6.585,5.567,4,22.608,4.5,17.608S151.5,114.783,142.5,122.392z").attr({fill:"#333333", stroke:"none"});
  var nez_vaudoo_right = paper.path("M157.961,122.392c6.585,5.567-4,22.608-4.5,17.608S148.961,114.783,157.961,122.392z").attr({fill:"#333333", stroke:"none"});
 
  var myops_blanc = paper.path('M137.833,42.167c-20.107,4.468-26.5,27-25,38s21.5,26.5,37,23s29-14.5,27.5-33.5C175.391,45.061,151.333,39.167,137.833,42.167z').attr({fill:"#fff", stroke:"none"});
  var myops_pupille = paper.path('M145.501,63.299c-5.109,0-9.25,4.141-9.25,9.25s4.141,9.25,9.25,9.25c5.109,0,9.25-4.141,9.25-9.25S150.61,63.299,145.501,63.299z M145.501,76.333c-2.09,0-3.784-1.694-3.784-3.784s1.694-3.784,3.784-3.784s3.784,1.694,3.784,3.784S147.591,76.333,145.501,76.333z').attr({fill:"#333333", stroke:"none"});
  
  var moustache_left = paper.path("M53.5,155.5c-4.667-9.333-9.333-8-13.333-4s-13.333,2-10.667-4.667c2.667-6.667,7,2.333,4.333,2.333c3,1.667-0.333-10.667-5.333-5s2.667,17.667,12.333,12.667S53.5,155.5,53.5,155.5z").attr({fill:"#333333", stroke:"none"});
  var moustache_right = paper.path("M61.926,155.5c4.667-9.333,9.333-8,13.333-4s13.333,2,10.667-4.667c-2.667-6.667-7,2.333-4.333,2.333c-3,1.667,0.333-10.667,5.333-5s-2.667,17.667-12.333,12.667S61.926,155.5,61.926,155.5z").attr({fill:"#333333", stroke:"none"});

  var manga_blanc_left = paper.path('M213.833,63.833c-14.333,0-15.666,19.333-7.666,19.333s3.333-7.833,7.833-7.833s0.838,7.583,7.833,7.833C231.167,83.5,228.833,63.833,213.833,63.833z').attr({fill:"#333333", stroke:"none"});
  var manga_pupille_left = paper.circle(214, 70, 3).attr({fill:"#fff", stroke:"none"});
  var manga_blanc_right = paper.path('M252.487,63.833c14.333,0,15.666,19.333,7.666,19.333s-3.333-7.833-7.833-7.833s-0.838,7.583-7.833,7.833C235.153,83.5,237.487,63.833,252.487,63.833z').attr({fill:"#333333", stroke:"none"});
  var manga_pupille_right = paper.circle(253, 70, 3).attr({fill:"#fff", stroke:"none"});

  var yeux_totem_left_blanc = paper.path('M112.334,31.785C93,31.785,92,49.452,80.667,49.452C92,49.452,93,61.119,112.334,61.119s20.334-11.667,31.667-11.667C132.668,49.452,131.668,31.785,112.334,31.785z').attr({fill:"#fff", stroke:"none"});
  var yeux_totem_left_pupille = paper.path('M115.251,46.624c-1.706,0-3.089-1.383-3.089-3.089c0-1.275,0.773-2.369,1.875-2.84c-0.541-0.16-1.111-0.249-1.704-0.249c-3.316,0-6.006,2.689-6.006,6.006c0,3.317,2.689,6.006,6.006,6.006s6.006-2.689,6.006-6.006c0-0.592-0.089-1.163-0.249-1.704C117.619,45.851,116.525,46.624,115.251,46.624z').attr({fill:"#333333", stroke:"none"});
  var yeux_totem_right_blanc = paper.path('M187.667,31.785c-19.334,0-20.334,17.667-31.667,17.667c11.333,0,12.333,11.667,31.667,11.667s20.334-11.667,31.667-11.667C208.001,49.452,207.001,31.785,187.667,31.785z').attr({fill:"#fff", stroke:"none"});
  var yeux_totem_right_pupille = paper.path('M190.584,46.624c-1.705,0-3.089-1.383-3.089-3.089c0-1.275,0.773-2.369,1.876-2.84c-0.541-0.16-1.111-0.249-1.704-0.249c-3.316,0-6.006,2.689-6.006,6.006c0,3.317,2.689,6.006,6.006,6.006s6.006-2.689,6.006-6.006c0-0.592-0.089-1.163-0.249-1.704C192.952,45.851,191.858,46.624,190.584,46.624z').attr({fill:"#333333", stroke:"none"});

  var yeux_chat_left_blanc = paper.path('M119.911,95.595c-5.846,11.69-17.986,33.723-3.598,34.621S139.694,126.168,119.911,95.595z').attr({fill:"#fff", stroke:"none"});
  var yeux_chat_left_pupille = paper.ellipse(118, 115, 2, 6).attr({fill:"#333333", stroke:"none"});
  var yeux_chat_right_blanc = paper.path('M181.23,95.595c5.846,11.69,17.986,33.723,3.598,34.621C170.441,131.115,161.447,126.168,181.23,95.595z').attr({fill:"#fff", stroke:"none"});
  var yeux_chat_right_pupille = paper.ellipse(183, 115, 2, 6).attr({fill:"#333333", stroke:"none"});

  var chat_museau_shape = paper.path('M162.299,159.084c-5.5,0-8.482-2.184-10.565-5.729c-0.082-0.191-0.191-0.396-0.333-0.608c-0.244-0.454-0.48-0.922-0.704-1.414c-0.544-1.585-0.551-3.572-0.328-5.767c0.058-0.479,0.116-0.983,0.181-1.509c0.227-1.672,0.536-3.43,0.809-5.198c0.848-3.983,2.371-7.55,5.607-7.55c7.334,0-0.666-3.225-7.666-3.225c-7,0-15,3.225-7.667,3.225c3.237,0,4.76,3.566,5.607,7.55c0.273,1.769,0.583,3.526,0.81,5.198c0.063,0.525,0.123,1.03,0.18,1.509c0.223,2.194,0.216,4.182-0.328,5.767c-0.223,0.492-0.46,0.96-0.705,1.414c-0.141,0.213-0.25,0.417-0.333,0.608c-2.083,3.546-5.065,5.729-10.565,5.729c-8,0-4,3,0,3c8.224,0,12.543-1.508,12.963-12.486c0.012,0.002,0.023,0.013,0.037,0.013c0.013,0,0.023-0.011,0.036-0.013c0.42,10.979,4.739,12.486,12.964,12.486C166.299,162.084,170.299,159.084,162.299,159.084z').attr({fill:"#333333", stroke:"none"});

  var nez_sorciere_shape = paper.path('M154.099,198.527c-7.556,0-1.403,9.411-6.634,9.411c-2.713,0-4.178,2.312-4.296,4.539c0,8.126,0.062,13.95,5.231,13.95c7.556,0,1.403-9.411,6.634-9.411c2.714,0,4.178-2.312,4.296-4.539C159.33,204.351,159.269,198.527,154.099,198.527z').attr({fill:"#333333", stroke:"none"});
  
  var labouche_simple_shape = paper.path('M174.54,84.593c-4.551,0-9.102,5.496-24.585,5.501c-15.483-0.005-20.035-5.501-24.585-5.501c-4.553,0-3.415,1.707-0.759,4.363c2.652,2.653,12.203,6.63,25.32,6.639v0c0.008,0,0.016,0,0.023,0s0.015,0,0.023,0v0c13.117-0.009,22.667-3.986,25.32-6.639C177.954,86.3,179.093,84.593,174.54,84.593z').attr({fill:"#333333", stroke:"none"});
  var lenez_simple_shape = paper.path('M148.487,61.03c6.224,0,10.701,6.589,10.701,15.192c0,6.04-6.749-2.379-6.749,1.647s-5.515,2.929-5.515,0s-6.293,3.861-6.293-3.293S145.827,61.03,148.487,61.03z').attr({fill:"#333333", stroke:"none"});

  var yeux_popeye_sourcil_left = paper.path('M122.588,181.169c-9.461,0-17.13,7.669-17.13,17.131h10.961c0-3.407,2.763-6.169,6.169-6.169c3.406,0,6.169,2.762,6.169,6.169h10.961C139.718,188.838,132.048,181.169,122.588,181.169z').attr({fill:"#333333", stroke:"none"});
  var yeux_popeye_pupille_left = paper.circle(123, 198, 2).attr({fill:"#333333", stroke:"none"});
  var yeux_popeye_sourcil_right = paper.path('M180.697,181.169c9.461,0,17.131,7.669,17.131,17.131h-10.961c0-3.407-2.764-6.169-6.17-6.169s-6.169,2.762-6.169,6.169h-10.961C163.567,188.838,171.236,181.169,180.697,181.169z').attr({fill:"#333333", stroke:"none"});
  var yeux_popeye_pupille_right = paper.circle(181, 198, 2).attr({fill:"#333333", stroke:"none"});


  /* THE GROUPS */

  var yeux_popeye = paper.set();
  yeux_popeye.push(
    yeux_popeye_sourcil_left,
    yeux_popeye_pupille_left,
    yeux_popeye_sourcil_right,
    yeux_popeye_pupille_right
  );


  var bouche_vaudoo = paper.set();
  bouche_vaudoo.push(
    bouche_vaudoo_shape
  );

  var labouche_simple = paper.set();
  labouche_simple.push(
    labouche_simple_shape
  );

  var lenez_simple = paper.set();
  lenez_simple.push(
    lenez_simple_shape
  );

  var coeur = paper.set();
  coeur.push(
    coeur_shape
  );

  var nez_sorciere = paper.set();
  nez_sorciere.push(
    nez_sorciere_shape
  );

  var bouche_de_fille = paper.set();
  bouche_de_fille.push(
    bouche_de_fille_shape
  );

  var long_nez = paper.set();
  long_nez.push(
    long_nez_shape
  );

  var chat_museau = paper.set();
  chat_museau.push(
    chat_museau_shape
  );

  var yeux_1 = paper.set();
  yeux_1.push(
    yeux_1_cerne_l,
    yeux_1_cerne_r,
    yeux_1_blanc_l,
    yeux_1_blanc_r,
    yeux_1_pupille_l,
    yeux_1_pupille_r,
    yeux_1_sourcil_l,
    yeux_1_sourcil_r
  );

  var yeux_2 = paper.set();
  yeux_2.push(
    yeux_2_cerne_l,
    yeux_2_cerne_r,
    yeux_2_blanc_l,
    yeux_2_blanc_r,
    yeux_2_pupille_l,
    yeux_2_pupille_r
  );


  var bouche_1 = paper.set();
  bouche_1.push(
    bouche_1_shade,
    bouche_1_inner,
    bouche_1_t1,
    bouche_1_t2,
    bouche_1_t3,
    bouche_1_t4,
    bouche_1_t5,
    bouche_1_t6
  );

  var nez_1 = paper.set();
  nez_1.push(
    nez_1_forme,
    snot
  );

  var nez_2 = paper.set();
  nez_2.push(
    nez_2_forme
  );

  var nez_vaudoo = paper.set();
  nez_vaudoo.push(
    nez_vaudoo_left,
    nez_vaudoo_right
  );

  var yeux_vaudou = paper.set();
  yeux_vaudou.push(
    yeux_vaudou_r,
    yeux_vaudou_l
  );

  var moustache = paper.set();
  moustache.push(
    moustache_left,
    moustache_right
  );

  var manga = paper.set();
  manga.push(
    manga_blanc_right,
    manga_blanc_left,
    manga_pupille_left,
    manga_pupille_right
  );

  var myops = paper.set();
  myops.push(
    myops_blanc,
    myops_pupille
  );

  var yeux_totem = paper.set();
  yeux_totem.push(
    yeux_totem_right_blanc,
    yeux_totem_right_pupille,
    yeux_totem_left_blanc,
    yeux_totem_left_pupille
  );

  var yeux_chat = paper.set();
  yeux_chat.push(
    yeux_chat_right_blanc,
    yeux_chat_right_pupille,
    yeux_chat_left_pupille,
    yeux_chat_left_blanc
  )


  /*animations*/

    //function to get random number upto m



    /*yeux_1*/
    setInterval(function() {

      yeux_1_blanc_l.animate({
        path:'M73.101,150.385c8.192,9.621,22.79,10.094,32.157,3.282C97.38,161.11,79.357,161.11,73.101,150.385z'
      },100,"linear", function() {
        yeux_1_blanc_l.animate({
          path:'M72.204,153.246c6-12,23.5-21,34-1C100.704,155.246,82.204,158.246,72.204,153.246z'
         },2000,"elastic")
      });

      yeux_1_cerne_l.animate({
        path:'M112.604,151.556c-0.805-6.747-14.328-17.898-27.223-15.543c-12.895,2.355-21.014,12.718-19.582,22.609c1.433,9.891,18.626,12.717,30.088,8.479C107.351,162.86,113.56,159.563,112.604,151.556z'
      },100,"linear", function() {
        yeux_1_cerne_l.animate({
          path:'M113.704,148.747c-0.843-7.162-15-19-28.5-16.5s-22,13.5-20.5,24s19.5,13.5,31.5,9S114.704,157.246,113.704,148.747z'
         },2000,"elastic")
      });

      yeux_1_blanc_r.animate({
        path:'M221.204,153.246c-6.371,4.588-22.07,10.001-34-1C192.833,159.167,212.5,163.834,221.204,153.246z'
      },100,"linear", function() {
        yeux_1_blanc_r.animate({
          path:'M221.204,153.246c-6-12-23.5-21-34-1C192.704,155.246,211.204,158.246,221.204,153.246z'
         },2000,"elastic")
      });

      yeux_1_cerne_r.animate({
        path:'M181.634,149.319c0.843-6.555,15-17.388,28.5-15.1c13.5,2.288,22,12.354,20.5,21.964c-1.5,9.609-19.5,12.354-31.5,8.236S180.634,157.097,181.634,149.319z'
      },100,"linear", function() {
        yeux_1_cerne_r.animate({
          path:'M181.634,146.747c0.843-7.162,15-19,28.5-16.5s22,13.5,20.5,24s-19.5,13.5-31.5,9S180.634,155.246,181.634,146.747z'
         },2000,"elastic")
      });

      yeux_1_sourcil_r.animate({
        path:'M225.833,113.834c-5.5-10-34-16.667-48,12'
      },100,"linear", function() {
        yeux_1_sourcil_r.animate({
          path:'M221.204,112.747c-5.5-10-29.5-24.5-40,7.5'
         },2000,"elastic")
      });

      yeux_1_sourcil_l.animate({
        path:'M65.833,113.167c5.5-10,35.333-9.333,47.333,12'
      },100,"linear", function() {
        yeux_1_sourcil_l.animate({
          path:'M70.204,111.747c5.5-10,29.5-24.5,40,7.5'
         },2000,"elastic")
      });
    },3000 );

    /*yeux_vaudou*/
    setInterval(function() {
      yeux_vaudou_l.animate({
        path:'M127.445,114.672c-0.011-0.555-0.081-1.146-0.209-1.767c-0.152-1.005-0.357-2.038-0.636-3.105c-0.042,0.205-0.083,0.418-0.125,0.631c-2.522-6.293-4.577,13.499-13.954,14.541C104.807,125.83,95.374,123.263,100,126c11.113,6.575,18.92,0.79,23.907-4.783c-2.784,7.074-8.977,12.473-25.917,6.315C114.538,137.079,128.699,130.12,127.445,114.672z'
      },100,"linear", function() {
        yeux_vaudou_l.animate({
        path:'M126.195,105.172c-0.011-0.555-0.081-1.146-0.209-1.767c-0.152-1.005-0.357-2.038-0.636-3.105c-0.042,0.205-0.083,0.418-0.125,0.631c-2.522-6.293-9.723-13.692-19.099-12.65c-7.715,0.857-16.5,13-6,25.5c8.305,9.887,17.544,3.509,22.531-2.064c-2.784,7.074-8.977,12.473-25.917,6.315C113.288,127.579,127.449,120.62,126.195,105.172z'
         },2000,"elastic")
      });

      yeux_vaudou_r.animate({
          path:'M194,125.5c-7.25,0.25-16.213-15.765-15.447-8.722c2.197,12.613,12.786,17.804,29.34,8.253c-14.449,5.253-21.076,2.093-24.441-3.337c7.678,6.429,22.982,9.621,28.049-3.744C212.074,116.436,207.035,125.05,194,125.5z'
      },100,"linear", function() {
        yeux_vaudou_r.animate({
          path:'M187.201,89.437c-4.475,3.254-9.527,8.672-8.762,15.716c-1.268,15.462,12.899,22.43,29.453,12.879c-14.449,5.253-21.076,2.093-24.441-3.337c7.678,6.429,23.158,6.577,28.339-6.744C217.865,92.329,199.93,80.18,187.201,89.437z'
         },2000,"elastic")
      });
    }, 2000);

    /*yeux_popeye*/
    setInterval(function() {
      yeux_popeye_sourcil_left.animate({
        path:'M122.588,196.951c-9.461,0-17.13,0.73-17.13,1.634h10.961c0-0.325,2.763-0.589,6.169-0.589c3.406,0,6.169,0.264,6.169,0.589h10.961C139.718,197.682,132.048,196.951,122.588,196.951z'
      },100,"linear", function() {
        yeux_popeye_sourcil_left.animate({
        path:'M122.588,181.169c-9.461,0-17.13,7.669-17.13,17.131h10.961c0-3.407,2.763-6.169,6.169-6.169c3.406,0,6.169,2.762,6.169,6.169h10.961C139.718,188.838,132.048,181.169,122.588,181.169z'
         },2000,"elastic")
      });

      yeux_popeye_pupille_left.animate({
        r:0
      },500,"linear", function() {
        yeux_popeye_pupille_left.animate({
        cy:198,
        r:2
         },1200,"elastic")
      });

      yeux_popeye_pupille_right.animate({
        r:0
      },700,"linear", function() {
        yeux_popeye_pupille_right.animate({
        cy:198,
        r:2
         },1000,"elastic")
      });

      yeux_popeye_sourcil_right.animate({
          path:'M180.697,196.951c9.461,0,17.131,0.73,17.131,1.634h-10.961c0-0.325-2.764-0.589-6.17-0.589s-6.17,0.264-6.17,0.589h-10.961C163.566,197.682,171.236,196.951,180.697,196.951z'
      },100,"linear", function() {
        yeux_popeye_sourcil_right.animate({
          path:'M180.697,181.169c9.461,0,17.131,7.669,17.131,17.131h-10.961c0-3.407-2.764-6.169-6.17-6.169s-6.169,2.762-6.169,6.169h-10.961C163.567,188.838,171.236,181.169,180.697,181.169z'
         },2000,"elastic")
      });
    }, 2000);

    /*yeux_chat*/
    setInterval(function() {
      yeux_chat_left_blanc.animate({
        path:'M119.911,121.167c-5.846,0.386-17.986,1.112-3.598,1.142S139.694,122.176,119.911,121.167z'
      },500,"linear", function() {
        yeux_chat_left_blanc.animate({
        path:'M119.911,95.595c-5.846,11.69-17.986,33.723-3.598,34.621S139.694,126.168,119.911,95.595z'
         },2000,"elastic")
      });

      yeux_chat_right_blanc.animate({
          path:'M181.23,121.167c5.846,0.386,17.986,1.112,3.598,1.142C170.441,122.339,161.447,122.176,181.23,121.167z'
      },500,"linear", function() {
        yeux_chat_right_blanc.animate({
          path:'M181.23,95.595c5.846,11.69,17.986,33.723,3.598,34.621C170.441,131.115,161.447,126.168,181.23,95.595z'
         },2000,"elastic")
      });

      yeux_chat_left_pupille.animate({
        rx:0
      },200,"linear", function() {
        yeux_chat_left_pupille.animate({
        rx:2
         },2000,"elastic")
      });

      yeux_chat_right_pupille.animate({
          rx:0
      },200,"linear", function() {
        yeux_chat_right_pupille.animate({
          rx:2
         },2000,"elastic")
      });


    }, 2000);

    /*yeux_totem*/
    setInterval(function() {

      yeux_totem_left_blanc.animate({
        path:'M112.334,49.238C93,49.238,92,49.496,80.667,49.496c11.333,0,12.333,0.171,31.667,0.171s20.334-0.171,31.667-0.171C132.668,49.496,131.668,49.238,112.334,49.238z'
      },200,"linear", function() {
        yeux_totem_left_blanc.animate({
        path:'M112.334,31.785C93,31.785,92,49.452,80.667,49.452C92,49.452,93,61.119,112.334,61.119s20.334-11.667,31.667-11.667C132.668,49.452,131.668,31.785,112.334,31.785z'
         },2000,"elastic")
      });

      yeux_totem_right_blanc.animate({
          path:'M187.667,49.238c-19.334,0-20.334,0.259-31.667,0.259c11.333,0,12.333,0.171,31.667,0.171s20.334-0.171,31.667-0.171C208.001,49.496,207.001,49.238,187.667,49.238z'
      },200,"linear", function() {
        yeux_totem_right_blanc.animate({
          path:'M187.667,31.785c-19.334,0-20.334,17.667-31.667,17.667c11.333,0,12.333,11.667,31.667,11.667s20.334-11.667,31.667-11.667C208.001,49.452,207.001,31.785,187.667,31.785z'
         },2000,"elastic")
      });

      yeux_totem_left_pupille.animate({
        path:'M115.251,49.461c-1.706,0-3.089-0.07-3.089-0.156c0-0.064,0.773-0.12,1.875-0.144c-0.541-0.008-1.111-0.013-1.704-0.013c-3.316,0-6.006,0.136-6.006,0.304c0,0.167,2.689,0.304,6.006,0.304s6.006-0.136,6.006-0.304c0-0.03-0.089-0.059-0.249-0.086C117.619,49.422,116.525,49.461,115.251,49.461z'
      },200,"linear", function() {
        yeux_totem_left_pupille.animate({
        path:'M115.251,46.624c-1.706,0-3.089-1.383-3.089-3.089c0-1.275,0.773-2.369,1.875-2.84c-0.541-0.16-1.111-0.249-1.704-0.249c-3.316,0-6.006,2.689-6.006,6.006c0,3.317,2.689,6.006,6.006,6.006s6.006-2.689,6.006-6.006c0-0.592-0.089-1.163-0.249-1.704C117.619,45.851,116.525,46.624,115.251,46.624z'
         },1000,"elastic")
      });

      yeux_totem_right_pupille.animate({
          path:'M190.584,49.461c-1.705,0-3.089-0.07-3.089-0.156c0-0.064,0.773-0.12,1.876-0.144c-0.541-0.008-1.111-0.013-1.704-0.013c-3.316,0-6.006,0.136-6.006,0.304c0,0.167,2.689,0.304,6.006,0.304s6.006-0.136,6.006-0.304c0-0.03-0.089-0.059-0.249-0.086C192.952,49.422,191.858,49.461,190.584,49.461z'
      },200,"linear", function() {
        yeux_totem_right_pupille.animate({
          path:'M190.584,46.624c-1.705,0-3.089-1.383-3.089-3.089c0-1.275,0.773-2.369,1.876-2.84c-0.541-0.16-1.111-0.249-1.704-0.249c-3.316,0-6.006,2.689-6.006,6.006c0,3.317,2.689,6.006,6.006,6.006s6.006-2.689,6.006-6.006c0-0.592-0.089-1.163-0.249-1.704C192.952,45.851,191.858,46.624,190.584,46.624z'
         },1000,"elastic")
      });

    }, 2000);

    /*myops*/


    setInterval(function() {

      myops_blanc.animate({
        path:'M144.834,82.833c-20.107,4.468-23.333,0-32-2.667c2.667,3,16.5,8.5,32,5c15.5-3.5,19-6.333,28.333-10.333C162.5,78.167,158.334,79.833,144.834,82.833z'
      },100,"linear", function() {
        myops_blanc.animate({
        path:'M137.833,42.167c-20.107,4.468-26.5,27-25,38s21.5,26.5,37,23s29-14.5,27.5-33.5C175.391,45.061,151.333,39.167,137.833,42.167z'
         },2000,"elastic")
      });

      myops_pupille.animate({
          path:'M142.833,83.955c-3.703,0.608-6.67,1.297-6.631,1.539c0.04,0.242,3.072-0.055,6.774-0.663s6.67-1.297,6.63-1.538C149.567,83.051,146.534,83.348,142.833,83.955z M142.934,84.572c-1.514,0.249-2.755,0.371-2.771,0.271c-0.017-0.099,1.198-0.38,2.713-0.629c1.514-0.249,2.755-0.37,2.771-0.271C145.663,84.042,144.448,84.324,142.934,84.572z'
      },150,"linear", function() {
        myops_pupille.animate({
          path:'M145.501,63.299c-5.109,0-9.25,4.141-9.25,9.25s4.141,9.25,9.25,9.25c5.109,0,9.25-4.141,9.25-9.25S150.61,63.299,145.501,63.299z M145.501,76.333c-2.09,0-3.784-1.694-3.784-3.784s1.694-3.784,3.784-3.784s3.784,1.694,3.784,3.784S147.591,76.333,145.501,76.333z'
         },2500,"elastic")
      });
    }, 2700);

    /*yeux_2*/
    setInterval(function() {
      yeux_2_blanc_l.animate({
        path:'M81.5,172.088c-0.75,1.241-0.264-0.792,2.15,1.221c8.6,8.28,26.6,4.967,28.554,0.105C97.75,182.472,89,176.288,81.5,172.088z'
      },100,"linear", function() {
        yeux_2_blanc_l.animate({
          path:'M88.204,148.747c-10.404,1.73-12.5,18-5,25s24,11,29-2S103.204,146.247,88.204,148.747z'
         },2000,"elastic")
      });

      yeux_2_cerne_r.animate({
        path:'M201.375,152.364c13.418,1.976,15.885,18.281,6.212,26.257c-9.674,7.977-30.955,12.534-37.403-2.278C163.734,161.529,182.027,149.515,201.375,152.364z'
      },100,"linear", function() {
        yeux_2_cerne_r.animate({
          path:'M201.014,144.227c13.418,2.236,16.121,23.216,6.448,32.244c-9.674,9.029-30.955,14.188-37.403-2.578C163.609,157.124,181.666,141.002,201.014,144.227z'
         },2000,"elastic")
      });

      yeux_2_blanc_r.animate({
        path:'M173.704,174.297c6.063,5.72,9.866,8.396,18.866,7.513c9-0.884,11.465-3.326,15.93-10.163C210.5,180.48,183.704,190.198,173.704,174.297z'
      },100,"linear", function() {
        yeux_2_blanc_r.animate({
          path:'M173.704,172.746c-4.478-8.063,9.5-18,18.5-19s18,6,20,16S183.704,190.746,173.704,172.746'
         },2000,"elastic")
      });

      yeux_2_cerne_l.animate({
        path: 'M85,153.375c-13.419,1.975-15.172,17.177-5.499,25.151c9.674,7.978,30.955,12.535,37.404-2.277C123.354,161.436,104.347,150.525,85,153.375z'
      },100,"linear", function() {
        yeux_2_cerne_l.animate({
          path:'M85.95,144.227c-13.419,2.236-16.122,23.216-6.449,32.244c9.674,9.029,30.955,14.188,37.404-2.578C123.354,157.124,105.297,141.002,85.95,144.227z'
         },2000,"elastic")
      });


    }, 5000);

    /*nez_1*/
    setInterval(function() {

      snot.animate({
        path:'M156.508,179.376c0.863,4.106-0.652,23.259,0.997,27.693c1.649,4.436-6.892,5.984-5.453,0.111c1.44-5.872,3.754-24.01-0.246-29.084C154.116,176.675,156.508,179.376,156.508,179.376z'
      },100,"linear", function() {
        snot.animate({
          path:'M156.324,169.214c0.885,5.175-0.477,7.087,1.196,12.681c1.673,5.593-4.595,11.113-3.188,3.727c1.409-7.384,2.83-6.271-1.197-12.681C155.438,171.163,156.324,169.214,156.324,169.214z'
         },2000,"elastic")
      });

      nez_1_forme.animate({
        path:'M151.798,170.331c-8.701,0.934-10.107-7.24-12.142,5.695c-2.034,12.933,6.265,7.313,7.179,5.296c0.915-2.021,0.37,1.712,2.027,3.12c1.658,1.407,4.896,0.698,5.223-1.791c0.329-2.488,1.691-2.823,2.841,0.739c1.148,3.566,7.498,1.573,5.806-5.294C161.04,171.229,161.225,169.321,151.798,170.331z'
      },100,"linear", function() {
        nez_1_forme.animate({
          path:'M151.841,167.858c-8.647,0.331-9.609,1.831-11.943,5.468c0.352,5.425,3.249,6.201,5.308,2.77c0.848-1.281,2.088-1.716,2.794,2.405c1.698,0.965,6.248,1.18,6.495-0.424c0.25-1.604,1.465-6.328,2.856,0.568c1.258,2.349,7.377-1.019,5.473-5.524C160.921,168.615,161.209,167.5,151.841,167.858z'
         },2000,"elastic")
      });

    }, 3200);

    /*manga*/
    setInterval(function() {

      manga_blanc_left.animate({
        path:'M213.833,68.564c-14.333,0-15.666,1.607-7.666,1.607s3.333-0.202,7.833-0.202s0.838,0.176,7.833,0.202C231.167,70.206,228.833,68.564,213.833,68.564z'
      },210,"linear", function() {
        manga_blanc_left.animate({
          path:'M213.833,63.833c-14.333,0-15.666,19.333-7.666,19.333s3.333-7.833,7.833-7.833s0.838,7.583,7.833,7.833C231.167,83.5,228.833,63.833,213.833,63.833z'
         },2000,"elastic")
      });

      manga_pupille_left.animate({
        r:0
      },210,"linear", function() {
        manga_pupille_left.animate({
         r:3
         },2000,"elastic")
      });

      manga_blanc_right.animate({
        path:'M252.487,68.564c14.333,0,15.666,1.607,7.666,1.607s-3.333-0.202-7.833-0.202s-0.838,0.176-7.833,0.202C235.153,70.206,237.487,68.564,252.487,68.564z'
      },100,"linear", function() {
        manga_blanc_right.animate({
          path:'M252.487,63.833c14.333,0,15.666,19.333,7.666,19.333s-3.333-7.833-7.833-7.833s-0.838,7.583-7.833,7.833C235.153,83.5,237.487,63.833,252.487,63.833z'
         },2000,"elastic")
      });

      manga_pupille_right.animate({
        r:0
      },100,"linear", function() {
        manga_pupille_right.animate({
          r:3
         },2000,"elastic")
      });

    }, 3000);


  /*bouche_1*/
    setInterval(function() {
      var randomNum = Math.ceil(Math.random()*1500); /* Pick random number between 1 and 2 */

      bouche_1_shade.animate({
        path:'M125.5,207.834c-1.667,2.334,0.667,8,9.333,16.667c11.338,11.339,26.333,4.666,31.333,1.666c2-1.667,10-8,13.667-16C174.167,213.501,130.833,208.834,125.5,207.834z'
      },500,"linear", function() {
        bouche_1_shade.animate({
          path:'M132.501,205.363c-1.382,1.313,3.43,37.723,13.717,51.438c10.287,13.716,9.524-2.479,11.05-6.668c1.522-4.19,8-31.052,8.381-39.624C166.029,201.934,143.741,194.695,132.501,205.363z'
         },2000,"elastic")
          var randomNum = Math.ceil(Math.random()*500);

      });

      bouche_1_inner.animate({
        path:'M127.5,211.167c4.667,2.667,39.334,5.334,50.667,0.667c-6.333,6.333-16.667,17-31.333,16.333C141.839,227.94,132.833,223.167,127.5,211.167z'
      },500,"linear", function() {
        bouche_1_inner.animate({
          path:'M133.704,208.247c-0.207-5.587,21-8.001,30.5,2.5c-8,41-10,46-15,46S134.204,221.747,133.704,208.247z'
         },2000,"elastic")
      });

      bouche_1_t1.animate({
        path:'M153.834,221.501l4.031-0.033C157.199,227.179,153.844,230.059,153.834,221.501z'
      },500,"linear", function() {
        bouche_1_t1.animate({
          path:'M149.843,249.796l4.031-0.033C153.208,255.474,149.852,258.354,149.843,249.796z'
         },2000,"elastic")
      });

      bouche_1_t2.animate({
        path:'M143.833,221.167l-3.997,0.524C141.29,227.258,145.013,229.645,143.833,221.167z'
      },500,"linear", function() {
        bouche_1_t2.animate({
          path:'M149.502,249.582l-3.997,0.524C146.958,255.673,150.682,258.06,149.502,249.582z'
         },2000,"elastic")
      });

      bouche_1_t3.animate({
        path:'M139.133,219.77l2.985-0.415C141.002,215.202,138.204,213.437,139.133,219.77z'
      },500,"linear", function() {
        bouche_1_t3.animate({
          path:'M137.133,211.103l2.985-0.415C139.002,206.535,136.204,204.77,137.133,211.103z'
         },2000,"elastic")
      });

      bouche_1_t4.animate({
        path:'M158.602,220.103l-2.984-0.415C156.729,215.535,159.525,213.77,158.602,220.103z'
      },500,"linear", function() {
        bouche_1_t4.animate({
          path:'M158.934,211.103l-2.983-0.415C157.063,206.535,159.859,204.77,158.934,211.103z'
         },2000,"elastic")
      });

      bouche_1_t5.animate({
        path:'M157.188,219.963l-4.031,0.033C153.82,214.285,157.18,211.404,157.188,219.963z'
      },500,"linear", function() {
        bouche_1_t5.animate({
          path:'M157.52,210.963l-4.031,0.033C154.154,205.285,157.512,202.404,157.52,210.963z'
         },2000,"elastic")
      });

      bouche_1_t6.animate({
        path:'M141.822,220.297l4.03,0.033C145.188,214.619,141.832,211.738,141.822,220.297z'
      },500,"linear", function() {
        bouche_1_t6.animate({
          path:'M139.489,210.963l4.03,0.033C142.854,205.285,139.498,202.404,139.489,210.963z'
         },2000,"elastic")
      });


    }, 1500);


  /*position ITEMS*/
  reset_position = function(){
    nez_1.transform("t10,400")
    nez_2.transform("t20,320")
    yeux_1.transform("t20,320")
    yeux_2.transform("t20,380")
    bouche_1.transform("t180,350")
    tete.transform("t220,40")
    bouche_vaudoo.transform("t380,250")
    nez_vaudoo.transform("t230,360")
    yeux_vaudou.transform("t230,360")
    moustache.transform("t230,360")
    myops.transform("t260,490")
    manga.transform("t260,440")
    bouche_de_fille.transform("t-80,440")
    coeur.transform("t340,440")
    long_nez.transform("t320,440")
    yeux_totem.transform("t450,480")
    yeux_chat.transform("t10,500")
    chat_museau.transform("t100,450")
    nez_sorciere.transform("t460,400")
    lenez_simple.transform("t460,400")
    labouche_simple.transform("t460,400")
    yeux_popeye.transform("t480,380")
  }
  reset_position();

/*------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
/*------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
/*------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
/*------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
/*------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*/


  /*VARIATIONS*/
  ajustcolours = function(){
    var randomR = Math.ceil(Math.random()*255);
    var randomG = Math.ceil(Math.random()*255);
    var randomB = Math.ceil(Math.random()*255);
    var randomRGB = (randomR+","+randomG+","+randomB)
    

    for (var i = mesobjetspleins.length - 1; i >= 0; i--) {
      mesobjetspleins[i].attr("fill","rgb("+randomRGB+")")
    };  

  }
  /*TETES*/
  var params = {
    path: tete3
  };

  //rajouter les tetes ici !
  var mes_tetes = new Array(tete1, tete2, tete3, tete4, tete5, tete6, tete7, tete8, tete9, tete10, tete11, tete12, tete13);
  count_tetes = mes_tetes.length;

  /*tete_form*/

  tete.click(function(){
    var randomR = Math.ceil(Math.random()*255);
    var randomG = Math.ceil(Math.random()*255);
    var randomB = Math.ceil(Math.random()*255);
    var randomRGB = (randomR+","+randomG+","+randomB)

    params.fill = "rgb("+randomRGB+")";
    params.path =  mes_tetes[Math.floor(Math.random()*count_tetes)];
    tete.animate(params,500,"elastic")

    ajustcolours();
  })


  /* THE DRAGNDROP */
  var dragndrop = function(the_object){
    var ft = paper.freeTransform(the_object);
      ft.setOpts({
          keepRatio: true,
          draw: "bbox",
          rotate: "axisX",
          scale: "bboxCorners",
          drag: "self",
          attrs: { fill:"blue", stroke:"none" }
      });
  }

  var clone_handler = function(duplicate_this) {
    var the_clone = duplicate_this.clone();
    the_clone.hover(hv_on, hv_off);
    dragndrop(the_clone)
  };

var hv_on = function() {
    this.animate({
        opacity: .25
    }, 100, ">");
},
    hv_off = function() {
        this.animate({
            opacity: 1
        }, 100, ">");
    };


  //yeux_1.getBBox(20, 0, 60, 20, 120, 120)
  var mesobjets = [yeux_popeye, labouche_simple, lenez_simple, nez_sorciere, chat_museau, yeux_chat, yeux_totem, long_nez, coeur, bouche_de_fille, manga, yeux_1, nez_1, nez_2, bouche_1, yeux_2, bouche_vaudoo, nez_vaudoo, yeux_vaudou, moustache, myops];
  var mesobjetspleins = [yeux_popeye, labouche_simple, lenez_simple, chat_museau, nez_sorciere, yeux_chat_left_pupille, yeux_chat_right_pupille, yeux_totem_right_pupille, yeux_totem_left_pupille, manga_blanc_right, manga_blanc_left, long_nez, coeur, bouche_de_fille, myops_pupille, yeux_1_cerne_l, yeux_1_cerne_r, yeux_1_pupille_r, yeux_1_pupille_l, bouche_1_inner, nez_2, nez_1_forme, yeux_2_pupille_l, yeux_2_pupille_r, yeux_2_cerne_r, yeux_2_cerne_l, moustache, bouche_vaudoo, nez_vaudoo, yeux_vaudou];
  var meshandles = [];

  //http://stackoverflow.com/questions/7839374/raphaeljs-clone-and-drag
  for(var i = 0 ; i < mesobjets.length; i++){
    
    var ft = paper.freeTransform(mesobjets[i]);

    ft.setOpts({
        keepRatio: true,
        draw: "circle",
        rotate: "axisX",
        scale: "axisX",
        drag: "self"
    });

    meshandles.push(ft);

  }

  the_hide = function(){
    for(var i = 0 ; i < meshandles.length; i++){
      meshandles[i].hideHandles();
    }
  }
  
  the_show = function(){
    for(var i = 0 ; i < meshandles.length; i++){
      meshandles[i].showHandles();
    }
  }
  
  $('#hide').toggle(function() {
    the_hide();
  }, function() {
    the_show();
  });


  /*PICTURE IT*/

  function clearCanvas_normal(){
      var canvas = document.getElementById("canvas_normal_crop");
      var context = canvas.getContext("2d");
      context.clearRect(0, 0, canvas.width, canvas.height);
  }

  function clearCanvas_x2(){
      var canvas = document.getElementById("canvas_x2_crop");
      var context = canvas.getContext("2d");
      context.clearRect(0, 0, canvas.width, canvas.height);
  }

  /* ZOOM */
  var ratio_x2 = 2
  function scaling(){
    paper.setViewBox(180,10,700/ratio_x2,660/ratio_x2)
  }

  $('#zoom').click(function(){
    scaling();
  })


  /* / ZOOM */
  /* RESET SIZE */
  
  function reset_size(){
    paper.setViewBox("auto","auto",700,660)
  }

  $('#reset').click(function(){
    reset_size();
  })
  /* / RESET SIZE */
  /* X2 */

  $('#x2').click(function(){
    scaling();
    clearCanvas_x2();
    the_hide();
    var full_x2 = document.getElementById('canvas_x2_raw');
    
    var svg_zommed = $('#draw_here_raphael').html().replace(/>\s+/g, ">").replace(/\s+</g, "<");
    //convert "svg" top "full_x2" -> svg to canvas
    canvg(full_x2, svg_zommed) 

    //crop & scale
    var myVisibleCanvas_x2 = document.getElementById('canvas_x2_crop');
    var ctx_x2 = myVisibleCanvas_x2.getContext('2d');
      sx = 0,
      sy = 0,
      sw = 300*ratio_x2,
      sh = 300*ratio_x2,
      dx = 0,
      dy = 0,
      dw = 300*ratio_x2,
      dh = 300*ratio_x2,
    ctx_x2.drawImage(full_x2,sx,sy,sw,sh,dx,dy,dw,dh);

    var rotate = Math.ceil(Math.random()*7)

    //convert to PNG
    var img = document.getElementById('canvas_x2_crop').toDataURL("image/png");
    $('#photo').append('<img class="white_box style_'+rotate+'" src="'+img+'"/>');
    the_show();

    $("#photo").animate({
      scrollTop: $("#photo").prop("scrollHeight")
    }, 500);
    reset_size();

  })

  /* / X2 */

  $('#save').click(function(){

    clearCanvas_normal();
    the_hide();

    var full = document.getElementById('canvas_normal_raw');
    full.width=1700; full.height=1700;
    var svg = $('#draw_here_raphael').html().replace(/>\s+/g, ">").replace(/\s+</g, "<");
    canvg(full, svg) 

    //crop
    var myVisibleCanvas = document.getElementById('canvas_normal_crop');
    var ctx = myVisibleCanvas.getContext('2d');
    ctx.drawImage(full,220,40,300,300,0,0,300,300);
    
    //production du PNG
    var rotate = Math.ceil(Math.random()*7)
    var img = document.getElementById('canvas_normal_crop').toDataURL("image/png");
    $('#photo').append('<img class="white_box style_'+rotate+'" src="'+img+'"/>');
    the_show();

    $("#photo").animate({
      scrollTop: $("#photo").prop("scrollHeight")
    }, 500);

  });

    
  /* HD */
  var confirmessage = "SVG enregistÃ© en base"
  $('#message').hide();
  $('#vector').click(function(){
    the_hide();
    var svg = $('#draw_here_raphael').html().replace(/>\s+/g, ">").replace(/\s+</g, "<");

    var twitter = $('#twitter').val();
    var name = $('#name').val();

    $('#vector_render').val("")
    $('#vector_render').val(svg)
    $.post("save_vector.php", {  twitter: twitter, name: name, svg: svg } );
    reset_size();
    $('#message').fadeIn();
    $('#message').val(confirmessage)
    $('#message').stop(true, true).delay(1500).fadeOut();

  });


  /* /HD */

  $('#process').hide()
  $('#show_process').click(function() {
    $('#process').toggle();
  });
  $('#top').click(function(){
    $('body,html').animate({
        scrollTop: 0
      }, 800);
      return false;
  })

//END FUNCTIONS

});